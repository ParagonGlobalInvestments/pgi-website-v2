# ============================================================
# PGI Portal — Environment Variables
# Copy this file to .env.local:  cp .env.example .env.local
# ============================================================

# --- Supabase (Required) ---
# Get these from Supabase dashboard: Settings > API
# Or ask a team member for the shared development keys
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# --- Application URLs ---
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# --- Portal ---
# Must be explicitly set to 'true' to enable portal features and login.
# When omitted or set to any other value, the portal is hidden and auth routes return 404.
NEXT_PUBLIC_PORTAL_ENABLED=true

# Portal URL - for local dev, keep same as APP_URL
# In production, this points to the portal subdomain (portal.paragoninvestments.org)
NEXT_PUBLIC_PORTAL_URL=http://localhost:3000

# --- Admin Allowlist (IMPORTANT for local dev) ---
# Comma-separated emails that can access the portal WITHOUT being in the database.
# Add your email here to test locally. Include both .edu and personal emails.
# Example: your.name@university.edu,yourpersonal@gmail.com
ADMIN_EMAILS=

# --- PostHog Analytics (Optional) ---
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com

# --- Google OAuth (Optional - only needed for /resources Google Drive integration) ---
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# --- Feature Flags (Optional) ---
NEXT_PUBLIC_ENABLE_ADMIN_FEATURES=true

# ============================================================
# TROUBLESHOOTING
# ============================================================
#
# "Not a PGI Member" error after login?
#   → Add your email to ADMIN_EMAILS above, then restart dev server
#
# Portal subdomain not working on Vercel preview?
#   → Portal subdomain only works in production. Use /portal path on previews.
#   → Example: https://your-preview.vercel.app/portal (not portal.your-preview...)
#
# OAuth callback failing?
#   → Supabase Auth > URL Configuration must include your callback URL
#   → For local: http://localhost:3000/auth/callback
#
# NODE_ENV is automatically set by Next.js — do not set manually.
