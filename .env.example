# ============================================================
# PGI Portal — Environment Variables
# Copy this file to .env.local:  cp .env.example .env.local
# ============================================================

# --- Supabase (Required) ---
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# --- Application URL ---
NEXT_PUBLIC_APP_URL=http://localhost:3000

# --- Portal ---
# Must be explicitly set to 'true' to enable portal features, sign-in, sign-up.
# When omitted or set to any other value, the portal is hidden and auth routes return 404.
NEXT_PUBLIC_PORTAL_ENABLED=true

# Portal subdomain URL (optional).
# Set this in production when portal runs on a subdomain (e.g. portal.paragoninvestments.org).
# When set, middleware auto-redirects portal routes (/sign-in, /portal/*) to this subdomain.
# Local dev: use sslip.io for wildcard DNS → http://portal.127.0.0.1.sslip.io:3000
# NEXT_PUBLIC_PORTAL_URL=https://portal.paragoninvestments.org

# Main site origin (optional).
# OAuth callbacks always route through this domain so only one Supabase redirect
# URL entry is needed. Falls back to window.location.origin when unset.
# NEXT_PUBLIC_SITE_URL=https://paragoninvestments.org

# --- NextAuth (Required for /resources page only) ---
NEXTAUTH_SECRET=
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_BASE_PATH=/api/nextauth
PGI_REQUIRE_EDU=true

# --- Google Cloud Console (Required for /resources page only) ---
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# --- PostHog Analytics (Optional) ---
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com

# --- Feature Flags (Optional — defaults shown) ---
NEXT_PUBLIC_ENABLE_ADMIN_FEATURES=true

# --- Admin allow-list (comma-separated emails) ---
# Include both .edu and personal emails for dual-email sign-in
ADMIN_EMAILS=

# NODE_ENV is automatically set by Next.js — do not set manually.
